# ============================================
# LLMFlow Environment Configuration
# Copy this file to .env and customize values
# ============================================

# === General Settings ===
COMPOSE_PROJECT_NAME=llmflow
TZ=Asia/Seoul

# === PostgreSQL ===
POSTGRES_USER=llmflow
POSTGRES_PASSWORD=llmflow_secure_password_change_me
POSTGRES_DB=llmflow
POSTGRES_HOST=postgresql
POSTGRES_PORT=5432

# === Redis ===
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=redis_secure_password_change_me

# === MinIO (Object Storage) ===
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minio_secure_password_change_me
MINIO_ENDPOINT=minio:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minio_secure_password_change_me
MINIO_BUCKET_NAME=llmflow

# === Milvus (Vector Database) ===
MILVUS_HOST=milvus-standalone
MILVUS_PORT=19530
MILVUS_COLLECTION=document_chunks

# === Neo4j (Graph Database) ===
NEO4J_AUTH=neo4j/neo4j_secure_password_change_me
NEO4J_HOST=neo4j
NEO4J_BOLT_PORT=7687
NEO4J_HTTP_PORT=7474
NEO4J_PASSWORD=neo4j_secure_password_change_me

# === etcd ===
ETCD_ENDPOINTS=etcd:2379

# === Dify Configuration ===
DIFY_SECRET_KEY=your_64_character_secret_key_here_please_change_this_value_now
DIFY_INIT_PASSWORD=admin123456

# Dify Database
DIFY_DB_HOST=postgresql
DIFY_DB_PORT=5432
DIFY_DB_USER=llmflow
DIFY_DB_PASSWORD=llmflow_secure_password_change_me
DIFY_DB_NAME=dify

# Dify Redis
DIFY_REDIS_HOST=redis
DIFY_REDIS_PORT=6379
DIFY_REDIS_PASSWORD=redis_secure_password_change_me

# Dify Storage
DIFY_STORAGE_TYPE=s3
DIFY_S3_ENDPOINT=http://minio:9000
DIFY_S3_BUCKET_NAME=dify
DIFY_S3_ACCESS_KEY=minioadmin
DIFY_S3_SECRET_KEY=minio_secure_password_change_me

# Dify Vector Store
DIFY_VECTOR_STORE=milvus
DIFY_MILVUS_HOST=milvus-standalone
DIFY_MILVUS_PORT=19530

# === vLLM Configuration ===
VLLM_API_KEY=llmflow-vllm-api-key-change-me
VLLM_MODEL_PATH=/models/Meta-Llama-3.1-8B-Instruct
VLLM_GPU_MEMORY_UTILIZATION=0.9
VLLM_MAX_MODEL_LEN=32768
VLLM_TENSOR_PARALLEL_SIZE=1

# === TEI (Text Embeddings Inference) ===
TEI_EMBEDDING_MODEL=BAAI/bge-m3
TEI_RERANKER_MODEL=BAAI/bge-reranker-v2-m3
TEI_EMBEDDING_PORT=8080
TEI_RERANKER_PORT=8081

# === Unstructured (Document Processing) ===
UNSTRUCTURED_API_URL=http://unstructured:8000

# === Keycloak Configuration ===
KEYCLOAK_ADMIN=admin
KEYCLOAK_ADMIN_PASSWORD=keycloak_admin_password_change_me
KEYCLOAK_DB_HOST=postgresql
KEYCLOAK_DB_PORT=5432
KEYCLOAK_DB_NAME=keycloak
KEYCLOAK_DB_USER=llmflow
KEYCLOAK_DB_PASSWORD=llmflow_secure_password_change_me

# === APISIX Configuration ===
APISIX_ADMIN_KEY=apisix_admin_key_change_me

# === LLaMA-Factory Configuration ===
LLAMA_FACTORY_GRADIO_SERVER_NAME=0.0.0.0
LLAMA_FACTORY_GRADIO_SERVER_PORT=7860

# === MLflow Configuration ===
MLFLOW_TRACKING_URI=http://mlflow:5000
MLFLOW_ARTIFACT_ROOT=s3://mlflow-artifacts
MLFLOW_DB_HOST=postgresql
MLFLOW_DB_PORT=5432
MLFLOW_DB_NAME=mlflow
MLFLOW_DB_USER=llmflow
MLFLOW_DB_PASSWORD=llmflow_secure_password_change_me

# === Langfuse Configuration ===
LANGFUSE_SECRET_KEY=langfuse_secret_key_change_me
LANGFUSE_NEXT_AUTH_SECRET=langfuse_nextauth_secret_change_me
LANGFUSE_SALT=langfuse_salt_change_me
LANGFUSE_DB_HOST=postgresql
LANGFUSE_DB_PORT=5432
LANGFUSE_DB_NAME=langfuse
LANGFUSE_DB_USER=llmflow
LANGFUSE_DB_PASSWORD=llmflow_secure_password_change_me

# === Monitoring ===
PROMETHEUS_RETENTION_TIME=15d
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=grafana_admin_password_change_me

# === GPU Configuration ===
# Set to 'true' if NVIDIA GPU is available
ENABLE_GPU=true
NVIDIA_VISIBLE_DEVICES=all
CUDA_VISIBLE_DEVICES=0

# === Network Configuration ===
LLMFLOW_FRONTEND_SUBNET=172.28.1.0/24
LLMFLOW_BACKEND_SUBNET=172.28.2.0/24
LLMFLOW_DATA_SUBNET=172.28.3.0/24
LLMFLOW_INFERENCE_SUBNET=172.28.4.0/24
